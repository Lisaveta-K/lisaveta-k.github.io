/**
 * Fork: https://github.com/antoineguillou/jQuery-menu-aim
*/
(function(d){d.fn.menuAim=function(q){this.each(function(){var l=d(this),e=null,k=[],m=null,f=null,c=void 0,b=d.extend({rowSelector:"> li",submenuSelector:"*",submenuDirection:"right",tolerance:75,enter:d.noop,exit:d.noop,activate:d.noop,deactivate:d.noop,exitMenu:d.noop,activationDelay:0},q),p=function(g){var a=r();a?f=setTimeout(function(){p(g)},a):(a=function(){e&&b.deactivate(e,g);b.activate(g,e);e=g},g!=e&&(0<b.activationDelay?(c&&clearTimeout(c),c=setTimeout(a,b.activationDelay)):a()))},r=function(){function g(a,
b){return(b.y-a.y)/(b.x-a.x)}if(!e||!d(e).is(b.submenuSelector))return 0;var a=l.offset(),c={x:a.left,y:a.top-b.tolerance},f={x:a.left+l.outerWidth(),y:c.y},o={x:a.left,y:a.top+l.outerHeight()+b.tolerance},n={x:a.left+l.outerWidth(),y:o.y},i=k[k.length-1],h=k[0];if(!i)return 0;h||(h=i);if(h.x<a.left||(h.x>n.x||h.y<a.top||h.y>n.y)||m&&i.x==m.x&&i.y==m.y)return 0;var j=f,a=n;"left"==b.submenuDirection?(j=o,a=c):"below"==b.submenuDirection?(j=n,a=o):"above"==b.submenuDirection&&(j=c,a=f);c=g(i,j);f=
g(i,a);j=g(h,j);h=g(h,a);if(c<j&&f>h)return m=i,300;m=null;return 0};l.mouseleave(function(){f&&clearTimeout(f);b.exitMenu(this)&&(e&&b.deactivate(e,null),e=null)}).find(b.rowSelector).mouseenter(function(){f&&clearTimeout(f);b.enter(this);p(this)}).mouseleave(function(){c&&(clearTimeout(c),c=void 0);b.exit(this)});d(document).mousemove(function(b){k.push({x:b.pageX,y:b.pageY});3<k.length&&k.shift()})});return this}})(jQuery);
